/* Mobile-only, no scroll (100dvh), one-at-a-time animation */
:root{
  --mx-bg: #000;
  --mx-ink: #b8ffb8;
  --mx-green: #0f0;
  --mx-grid: rgba(0,255,102,0.14);
}

* { box-sizing: border-box; }

.mx-wrap{
  position: relative;
  height: 100dvh;          /* exact viewport height */
  width: 100vw;
  overflow: hidden;        /* NO SCROLL */
  background: var(--mx-bg);
  color: var(--mx-ink);
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "IBM Plex Mono", monospace;
}

/* Rain behind content */
.mx-canvas{
  position: absolute;
  inset: 0;
  z-index: 0;
  opacity: 0;
  transition: opacity 600ms ease;
  pointer-events: none;
}
.mx-canvas-on{ opacity: 0.35; }

/* Foreground: type + stage (2 rows) */
.mx-content{
  position: relative;
  z-index: 2;
  display: grid;
  grid-template-rows: auto 1fr;
  height: 100%;
  max-width: 420px;
  margin: 0 auto;
  padding: 6px 8px 8px;
  gap: 6px;
}

/* Typewriter */
.mx-type{
  font-size: 12px;         /* compact */
  line-height: 1.2;
  padding-left: 6px;
  border-left: 2px solid var(--mx-green);
  letter-spacing: 0.1px;
  text-shadow: 0 0 6px rgba(0,255,100,0.18);
  min-height: 2.5em;       /* reserve space to avoid jump */
}
.mx-type-text{ display: inline; }
.mx-caret{ display: inline-block; margin-left: 4px; color: var(--mx-green); animation: mxCaret 1s steps(1,end) infinite; }
@keyframes mxCaret { 0%,49%{opacity:1} 50%,100%{opacity:0} }

/* Stage holds the active view centered */
.mx-stage{
  position: relative;
  height: 100%;
  display: grid;
  place-items: center;
  overflow: hidden;
}

/* A view is a full overlay; only one is-active until 'both' step */
.mx-view{
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  padding: 6px 8px;
}
.mx-view.is-hidden{ display: none; } /* absolutely hide when not active */
.mx-view.is-active{ display: grid; }

/* ------ Entry/Exit Effects (cool animations) ------ */
/* Materialize-in (scale + fade) */
@keyframes mxMaterializeIn {
  0%   { opacity: 0; transform: scale(0.94); filter: blur(2px); }
  100% { opacity: 1; transform: scale(1);    filter: blur(0); }
}
/* Disintegrate (shrink + blur + fade) */
@keyframes mxDisintegrate {
  0%   { opacity: 1; transform: scale(1);    filter: blur(0); }
  100% { opacity: 0; transform: scale(0.90); filter: blur(3px); }
}
/* Slide/Glitch-in (for Jess) */
@keyframes mxSlideGlitchIn {
  0%   { opacity: 0; transform: translateY(12px) scale(0.98); filter: contrast(0.8) saturate(0.8); }
  40%  { opacity: .9; transform: translateY(0)    scale(1.01); }
  60%  { transform: translateY(-1px) scale(0.999); }
  100% { opacity: 1; transform: translateY(0)    scale(1);    filter: none; }
}

/* Apply animations per phase */
.mx-view--nabi.is-active .mx-single{ animation: mxMaterializeIn 360ms ease both; }
.mx-view--nabi.is-exiting .mx-single{ animation: mxDisintegrate 420ms ease forwards; }

.mx-view--jess.is-active .mx-single{ animation: mxSlideGlitchIn 420ms ease both; }
.mx-view--jess.is-exiting .mx-single{ animation: mxDisintegrate 420ms ease forwards; }

.mx-view--both.is-active .mx-both{ animation: mxMaterializeIn 360ms ease both; }

/* ------ Single layouts ------ */
.mx-single{
  display: grid;
  gap: 8px;
  align-items: start;
  justify-items: center;
  text-align: left;
}

/* Nabi: image left-ish, bio to right on mobile scale */
.mx-single--nabi{
  grid-template-columns: auto 1fr;
  column-gap: 10px;
}
.mx-bio--nabi-right{ align-self: center; }

/* Jess: image top, bio below */
.mx-single--jess{
  grid-template-columns: 1fr;
  justify-items: center;
  text-align: center;
}

/* Tight visuals */
.mx-img{
  display: block;
  border-radius: 8px;
  border: 1px solid rgba(0,255,120,.2);
  box-shadow: 0 4px 12px rgba(0,0,0,.55);
  filter: contrast(1.04) saturate(1.02);
}

.mx-img--nabi-single{ width: 30vw; max-width: 150px; height: auto; }
.mx-img--jess-single{ width: 78vw; max-width: 320px; height: auto; }

.mx-bio--tight{ margin-top: 4px; }
.mx-h2{ font-size: 12px; color: var(--mx-green); margin: 0 0 2px; }
.mx-ul{ margin: 0 0 2px 0; padding: 0 0 0 10px; font-size: 10px; text-align: left; }
.mx-ul li{ margin: 1px 0; }
.mx-line{ font-size: 10px; color: #c8f5c8; }

/* ------ BOTH (small, stacked) ------ */
.mx-both{
  display: grid;
  gap: 8px;
  place-content: center;
  width: 100%;
}
.mx-card-mini{
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  gap: 8px;
  background: linear-gradient(180deg, rgba(0,255,120,0.05), rgba(0,255,90,0.02));
  border: 1px solid var(--mx-grid);
  border-radius: 10px;
  padding: 6px;
  width: 92vw;
  max-width: 420px;
  margin: 0 auto;
}
.mx-img--nabi-mini{ width: 22vw; max-width: 110px; height: auto; }
.mx-img--jess-mini{ width: 22vw; max-width: 110px; height: auto; }
.mx-mini-txt{ min-width: 0; }
.mx-mini-name{
  font-size: 12px;
  color: var(--mx-green);
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.mx-mini-line{
  font-size: 10px; color: #d8ffd8; opacity: .95;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}

/* Smallest phones */
@media (max-width: 360px){
  .mx-type{ font-size: 11px; }
  .mx-img--nabi-single{ max-width: 140px; }
  .mx-img--jess-single{ max-width: 300px; }
  .mx-card-mini{ width: 94vw; }
}
