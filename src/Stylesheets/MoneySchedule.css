/* MONEY — Deluxe banknote + floating neon $ backdrop
   Namespaced: cash-*
   Fonts: Spectral SC (engraved caps), Fraunces (titles), DM Mono (serial/time)
*/
@import url('https://fonts.googleapis.com/css2?family=Spectral+SC:wght@700;800&family=Fraunces:opsz,wght@9..144,700;9..144,800&family=DM+Mono:wght@500;700&display=swap');

:root{
  --paper:#f6f4ea; --paper-tint:#eaf3ea;
  --ink:#0d2c1c; --ink-mid:#2d4f3e; --ink-soft:#6a8979;
  --emerald:#1a7f53; --teal:#2aa382; --gold:#d4af37;
  --foil-1:#7cd1b0; --foil-2:#d6c477;
  --line:#d8e2d6; --shadow: 0 12px 26px rgba(0,0,0,.16);

  --time-bg:#edf3ee; --time-br:#cdd9d0; --time-ink:#0b3b2a;

  --maple-bg:#e6f7ee; --maple-br:#7ad7a3; --maple-ink:#064d33;

  --title: clamp(16px, 3.9vw, 20px);
  --day: clamp(22px, 7.6vw, 40px);
}

*{ box-sizing:border-box }
html,body{ height:100% }

/* ===== Wrapper: paper + microline ===== */
.cash-wrap{
  min-height:100vh; width:100vw; color:var(--ink);
  -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility;
  display:flex; flex-direction:column; align-items:center; padding:16px;
  position:relative; z-index:0; isolation:isolate;
  background:
    linear-gradient(180deg, var(--paper) 0%, var(--paper-tint) 100%),
    repeating-linear-gradient(135deg, rgba(13,44,28,.06) 0 1px, transparent 1px 4px);
  overflow:hidden;
}

/* ===== Animated $ SKY (behind content) ===== */
.cash-sky{
  position:fixed; inset:-15vh -15vw; z-index:-1; pointer-events:none;
  /* subtle overall glow to tie the glyphs together */
  filter: saturate(115%);
}

/* each glyph uses custom props passed inline */
.cash-glyph{
  position:absolute; top:0; left:0;
  transform: translate(var(--x), var(--y)) scale(var(--s));
  font: 900 clamp(48px, 18vw, 180px)/1 "Spectral SC", Georgia, "Times New Roman", serif;
  letter-spacing:.06em;
  /* minty neon with slight hue spin per glyph */
  color: rgba(26,127,83,.18);
  text-shadow:
    0 0 10px hsla(var(--hue,140), 60%, 55%, .25),
    0 0 24px hsla(var(--hue,140), 70%, 50%, .18),
    0 0 48px hsla(var(--hue,140), 70%, 45%, .12);
  mix-blend-mode: multiply;
  will-change: transform, opacity, filter;
  animation:
    cash-float var(--dur,16s) linear infinite var(--delay,0s),
    cash-flicker 2.4s steps(12, end) infinite calc(var(--delay,0s) * -0.5);
  opacity:.28;
}

/* drift from start ( --x/--y ) to end ( + --dx/--dy ) */
@keyframes cash-float{
  0%   { transform: translate(var(--x), var(--y)) scale(var(--s)); }
  50%  { transform: translate(calc(var(--x) + (var(--dx) / 2)), calc(var(--y) + (var(--dy) / 2))) scale(calc(var(--s) * 1.02)); }
  100% { transform: translate(calc(var(--x) + var(--dx)), calc(var(--y) + var(--dy))) scale(var(--s)); }
}

/* neon flicker/jitter */
@keyframes cash-flicker{
  0%   { opacity:.18; filter: brightness(1) drop-shadow(0 0 0 rgba(0,0,0,0)); }
  10%  { opacity:.36; }
  18%  { opacity:.22; }
  25%  { opacity:.44; filter: brightness(1.08); }
  32%  { opacity:.26; }
  45%  { opacity:.48; }
  60%  { opacity:.30; filter: brightness(1.06); }
  75%  { opacity:.52; }
  90%  { opacity:.24; }
  100% { opacity:.28; }
}

/* Accessibility: respect reduced motion */
@media (prefers-reduced-motion: reduce){
  .cash-glyph{ animation: none; opacity:.2 }
}

/* ===== Header — engraved banner with rosette ring ===== */
.cash-header{ width:100%; max-width:720px; padding:12px 6px 4px;   margin-top:100px}
.cash-header--center{ display:grid; place-items:center }

.cash-day{ margin:0; text-align:center; }
.cash-day-inner{
  display:inline-block; position:relative; padding:.55em 1.2em .65em;
  font: 800 var(--day)/1 "Spectral SC", Georgia, "Times New Roman", serif;
  letter-spacing:.12em; text-transform:uppercase; color: var(--ink);
  background:
    radial-gradient(140% 250% at 50% -120%, rgba(255,255,255,.75), rgba(255,255,255,0) 48%),
    linear-gradient(180deg, #ffffff, #f1f6f2);
  border:2px solid var(--line); border-radius:999px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.95), 0 6px 16px rgba(0,0,0,.10);
}
.cash-day-inner::before{
  content:""; position:absolute; inset:-10px; border-radius:999px; pointer-events:none;
  background: repeating-conic-gradient(from 0deg, rgba(26,127,83,.22) 0 6deg, rgba(26,127,83,0) 6deg 12deg);
  mask: radial-gradient(closest-side, transparent 68%, #000 69%);
  -webkit-mask: radial-gradient(closest-side, transparent 68%, #000 69%);
  opacity:.6;
}
.cash-day-inner::after{
  content:""; position:absolute; left:12px; right:12px; bottom:-10px; height:4px; border-radius:999px;
  background: linear-gradient(90deg, var(--gold), #f6d97a, var(--gold));
  box-shadow: 0 6px 12px rgba(212,175,55,.35);
}

/* ===== List ===== */
.cash-list{
  width:100%; max-width:720px;
  display:flex; flex-direction:column; gap:12px; margin-top:18px;
}

/* ===== Card — translucent paper with engraved edge ===== */
.cash-card{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:12px 14px;
  background: linear-gradient(180deg, rgba(255,255,255,.72), rgba(255,255,255,.40));
  border:1px solid var(--line); border-radius:14px; position:relative; opacity:0; transform: translateY(10px);
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.90);
  color: var(--ink);
  backdrop-filter: blur(3px) saturate(112%);
  -webkit-backdrop-filter: blur(3px) saturate(112%);
  width:70%;

  margin: 0 auto;
}
.cash-card::before{
  content:""; position:absolute; left:10px; right:10px; top:-1px; height:2px; border-radius:2px;
  background: linear-gradient(90deg, var(--foil-1), var(--foil-2), var(--foil-1));
  background-size: 300% 100%;
  animation: cash-foil 6s ease-in-out infinite alternate;
  box-shadow: 0 0 8px rgba(123,191,152,.35);
}
@keyframes cash-foil{ to{ background-position: 100% 0; } }

.cash-in{ animation: cash-rise .28s cubic-bezier(.2,.9,.2,1) forwards }
@keyframes cash-rise{ to{ opacity:1; transform: translateY(0) } }

/* interactions */
.cash-card:hover{ transform: translateY(8px); transition: transform .18s ease-out }
.cash-card:active{ transform: translateY(6px) scale(.995) }
.cash-card:focus-within{
  outline:none;
  box-shadow: var(--shadow), 0 0 0 2px rgba(26,127,83,.22), 0 0 0 8px rgba(26,127,83,.12);
}

/* ===== Content ===== */
.cash-left{ min-width:0; display:flex; flex-direction:column; gap:8px; position:relative }
.cash-title{
  position:relative;
  font: 800 var(--title)/1.1 "Fraunces", Georgia, "Times New Roman", serif;
  letter-spacing:.01em; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  color: var(--ink); text-shadow: 0 1px 0 rgba(255,255,255,.85);

}
.cash-title::after{
   position:absolute; left:0; right:0; bottom:-6px; height:10px; overflow:hidden;
  font: 700 9px/1 "DM Mono", ui-monospace, monospace;
  letter-spacing:.18em; color: rgba(13,44,28,.45); white-space: nowrap;
  opacity:.75;
}

/* Replacement styling */
.cash-swap .cash-old{ position:relative; color:var(--ink-soft) }
.cash-swap .cash-old::after{
  content:""; position:absolute; left:0; right:0; top:55%; height:2px;
  background: linear-gradient(90deg, rgba(45,79,62,.12), rgba(45,79,62,.65), rgba(45,79,62,.12));
  transform: translateY(-50%) scaleX(1); transform-origin:left;
}
.cash-swap .cash-arrow{ opacity:.65; margin:0 6px }
.cash-swap .cash-new{ font-weight:900; color:var(--ink) }

/* Tags (chips) */
.cash-tags{ display:flex; gap:8px; margin-top:0; flex-wrap:wrap }
.cash-chip{
  font-size:12px; line-height:1; font-weight:800;
  padding:5px 10px; border-radius:999px; white-space:nowrap;
  border:1px solid rgba(13,44,28,.18);
  background: radial-gradient(120% 200% at 50% -80%, rgba(255,255,255,.75), rgba(255,255,255,0) 48%), #f2f6f3;
  color:#102e1e; box-shadow: inset 0 1px 0 rgba(255,255,255,.85);
}
.cash-chip--maple{
  background: linear-gradient(180deg, var(--maple-bg), rgba(230,247,238,.65));
  border-color: var(--maple-br); color: var(--maple-ink);
  box-shadow: 0 0 0 1px rgba(122,215,163,.16);
}

/* Time pill — serial number */
.cash-time{
  font:800 13px/1 "DM Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  color: var(--time-ink);
  background: repeating-linear-gradient(90deg, rgba(13,44,28,.08) 0 2px, transparent 2px 4px), var(--time-bg);
  border:1px solid var(--time-br); border-radius:12px; padding:7px 10px; white-space:nowrap;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.85), 0 1px 2px rgba(0,0,0,.15), 0 0 0 1px rgba(26,127,83,.10);
  width:90px;
  text-align: center;
}

/* Reduced motion for everything */
@media (prefers-reduced-motion: reduce){
  .cash-in{ animation:none; opacity:1; transform:none }
  .cash-card:hover, .cash-card:active{ transform:none }
}

/* ===== Animated $ SKY (behind content) ===== */
.cash-sky{
  position:fixed; inset:-18vh -18vw; z-index:-1; pointer-events:none;
  filter: saturate(120%);
}

.cash-glyph{
  position:absolute; top:0; left:0;
  transform: translate(var(--x), var(--y)) scale(var(--s));
  font: 900 clamp(56px, 18vw, 220px)/1 "Spectral SC", Georgia, "Times New Roman", serif;
  letter-spacing:.06em;

  /* more visible base + stronger neon */
  color: rgba(26,127,83,.28); /* was .18 */
  text-shadow:
    0 0 12px hsla(var(--hue,140), 70%, 58%, .40),
    0 0 30px hsla(var(--hue,140), 75%, 52%, .30),
    0 0 64px hsla(var(--hue,140), 80%, 48%, .22);

  /* make glow pop on light paper without washing cards */
  mix-blend-mode: overlay;

  will-change: transform, opacity, filter;
  animation:
    cash-float var(--dur,16s) linear infinite var(--delay,0s),
    cash-flicker 2.2s steps(12, end) infinite calc(var(--delay,0s) * -0.5);
  /* base opacity is a fraction of max */
  opacity: calc(var(--max, .78) * .42);
}

/* drift animation */
@keyframes cash-float{
  0%   { transform: translate(var(--x), var(--y)) scale(var(--s)); }
  50%  { transform: translate(calc(var(--x) + (var(--dx) / 2)), calc(var(--y) + (var(--dy) / 2))) scale(calc(var(--s) * 1.03)); }
  100% { transform: translate(calc(var(--x) + var(--dx)), calc(var(--y) + var(--dy))) scale(var(--s)); }
}

/* brighter peaks using the per-glyph --max */
@keyframes cash-flicker{
  0%   { opacity: calc(var(--max, .78) * .35); filter: brightness(1); }
  12%  { opacity: calc(var(--max, .78) * .85); }
  24%  { opacity: calc(var(--max, .78) * .55); }
  38%  { opacity: calc(var(--max, .78) * 1.00); filter: brightness(1.08); } /* peak */
  52%  { opacity: calc(var(--max, .78) * .60); }
  66%  { opacity: calc(var(--max, .78) * .95); }
  80%  { opacity: calc(var(--max, .78) * .58); }
  100% { opacity: calc(var(--max, .78) * .70); }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  .cash-glyph{ animation: none; opacity:.28; filter:none }
}


/* ===== Animated $ SKY (behind content) ===== */
.cash-sky{
  position:fixed; inset:-20vh -20vw; z-index:-1; pointer-events:none;
  filter: saturate(120%);
}

.cash-glyph{
  position:absolute; top:0; left:0;
  transform: translate(var(--x), var(--y)) scale(var(--s));
  will-change: transform;
  animation: cash-float var(--dur,16s) linear infinite var(--delay,0s);
}

.cash-inner{
  display:block;
  font: 900 clamp(56px, 18vw, 220px)/1 "Spectral SC", Georgia, "Times New Roman", serif;
  letter-spacing:.06em;

  /* neon mint base with per-glyph hue */
  color: rgba(26,127,83,.32);
  text-shadow:
    0 0 14px hsla(var(--hue,140), 70%, 58%, .45),
    0 0 34px hsla(var(--hue,140), 75%, 52%, .34),
    0 0 72px hsla(var(--hue,140), 80%, 48%, .25);
  mix-blend-mode: overlay;

  /* pulse (scale + opacity) over the drifting parent */
  will-change: transform, opacity, filter;
  animation:
    cash-pulse var(--pDur,3.4s) ease-in-out infinite var(--pDelay,0s),
    cash-flicker-soft 2.1s steps(10, end) infinite calc(var(--pDelay,0s) * -0.6);
  transform: scale(var(--pMin, .9)); /* initial */
  opacity: calc(var(--oMin, .35));
}

/* Position animation: translate along a long arc */
@keyframes cash-float{
  0%   { transform: translate(var(--x), var(--y)) scale(var(--s)); }
  50%  { transform: translate(calc(var(--x) + (var(--dx) / 2)), calc(var(--y) + (var(--dy) / 2))) scale(calc(var(--s) * 1.03)); }
  100% { transform: translate(calc(var(--x) + var(--dx)), calc(var(--y) + var(--dy))) scale(var(--s)); }
}

/* Pulse both size and opacity */
@keyframes cash-pulse{
  0%   { transform: scale(var(--pMin, .9));  opacity: calc(var(--oMin, .35)); filter: brightness(1); }
  50%  { transform: scale(var(--pMax, 1.15)); opacity: calc(var(--oMax, .9));  filter: brightness(1.08); }
  100% { transform: scale(var(--pMin, .9));  opacity: calc(var(--oMin, .35)); filter: brightness(1); }
}

/* Tiny jitter flicker to feel “neon” without washing content */
@keyframes cash-flicker-soft{
  0%   { opacity: calc(var(--oMin, .35)); }
  22%  { opacity: calc(var(--oMax, .9) * var(--max, .9)); }
  38%  { opacity: calc((var(--oMin, .35) + var(--oMax, .9)) * .6); }
  61%  { opacity: calc(var(--oMax, .9) * var(--max, .9)); }
  100% { opacity: calc((var(--oMin, .35) + var(--oMax, .9)) * .7); }
}

/* Accessibility: shut down motion if requested */
@media (prefers-reduced-motion: reduce){
  .cash-glyph{ animation: none; }
  .cash-inner{ animation: none; opacity:.25; transform:none; filter:none }
}

/* ===== Animated $ SKY (behind content) ===== */
.cash-sky{
  position:fixed; inset:-20vh -20vw; z-index:-1; pointer-events:none;
  filter: saturate(120%);
}

/* container that drifts */
.cash-glyph{
  position:absolute; top:0; left:0;
  transform: translate(var(--x), var(--y)) scale(var(--s));
  will-change: transform;
  animation: cash-float var(--dur,16s) linear infinite var(--delay,0s);
}

/* the actual $ glyph (pulses) */
.cash-inner{
  display:block;
  font: 900 clamp(56px, 18vw, 220px)/1 "Spectral SC", Georgia, "Times New Roman", serif;
  letter-spacing:.06em;

  /* more visible base */
  color: rgba(26,127,83,.45); /* ↑ from ~.32 */
  text-shadow:
    0 0 16px hsla(var(--hue,140), 70%, 58%, .55),
    0 0 36px hsla(var(--hue,140), 75%, 52%, .42),
    0 0 80px hsla(var(--hue,140), 80%, 48%, .30);

  /* use normal blending so opacity “reads” as-is */
  mix-blend-mode: normal;

  will-change: transform, opacity, filter;
  animation:
    cash-pulse var(--pDur,3.4s) ease-in-out infinite var(--pDelay,0s),
    cash-flicker-soft 1.9s steps(10, end) infinite calc(var(--pDelay,0s) * -0.6);
  transform: scale(var(--pMin, .9));
  opacity: calc(var(--oMin, .45)); /* stronger floor */
}

/* drift path */
@keyframes cash-float{
  0%   { transform: translate(var(--x), var(--y)) scale(var(--s)); }
  50%  { transform: translate(calc(var(--x) + (var(--dx) / 2)), calc(var(--y) + (var(--dy) / 2))) scale(calc(var(--s) * 1.03)); }
  100% { transform: translate(calc(var(--x) + var(--dx)), calc(var(--y) + var(--dy))) scale(var(--s)); }
}

/* pulse size + opacity — peaks hit var(--max) (now 1 by default) */
@keyframes cash-pulse{
  0%   { transform: scale(var(--pMin, .9));  opacity: calc(var(--oMin, .45)); filter: brightness(1); }
  50%  { transform: scale(var(--pMax, 1.18)); opacity: var(--max, 1);        filter: brightness(1.12) saturate(1.05); }
  100% { transform: scale(var(--pMin, .9));  opacity: calc(var(--oMin, .45)); filter: brightness(1); }
}

/* subtle neon jitter on top of pulse, but never below a readable floor */
@keyframes cash-flicker-soft{
  0%   { opacity: calc(max(var(--oMin, .45), var(--max,1) * .55)); }
  28%  { opacity: calc(var(--max,1) * .95); }
  52%  { opacity: var(--max,1); }          /* second peak */
  77%  { opacity: calc(var(--max,1) * .88); }
  100% { opacity: calc(max(var(--oMin, .45), var(--max,1) * .70)); }
}

/* reduced motion */
@media (prefers-reduced-motion: reduce){
  .cash-glyph{ animation:none }
  .cash-inner{ animation:none; opacity:.4; transform:none; filter:none }
}

/* ===== Animated $ SKY (behind content) ===== */
.cash-sky{
  position:fixed; inset:-20vh -20vw; z-index:-1; pointer-events:none;
  filter: saturate(120%);
}

/* container that drifts */
.cash-glyph{
  position:absolute; top:0; left:0;
  transform: translate(var(--x), var(--y)) scale(var(--s));
  will-change: transform;
  animation: cash-float var(--dur,16s) linear infinite var(--delay,0s);
}

/* the actual $ glyph (pulses) */
.cash-inner{
  display:block;
  font: 900 clamp(56px, 18vw, 220px)/1 "Spectral SC", Georgia, "Times New Roman", serif;
  letter-spacing:.06em;

  /* more visible base */
  color: rgba(26,127,83,.45); /* ↑ from ~.32 */
  text-shadow:
    0 0 16px hsla(var(--hue,140), 70%, 58%, .55),
    0 0 36px hsla(var(--hue,140), 75%, 52%, .42),
    0 0 80px hsla(var(--hue,140), 80%, 48%, .30);

  /* use normal blending so opacity “reads” as-is */
  mix-blend-mode: normal;

  will-change: transform, opacity, filter;
  animation:
    cash-pulse var(--pDur,3.4s) ease-in-out infinite var(--pDelay,0s),
    cash-flicker-soft 1.9s steps(10, end) infinite calc(var(--pDelay,0s) * -0.6);
  transform: scale(var(--pMin, .9));
  opacity: calc(var(--oMin, .45)); /* stronger floor */
}

/* drift path */
@keyframes cash-float{
  0%   { transform: translate(var(--x), var(--y)) scale(var(--s)); }
  50%  { transform: translate(calc(var(--x) + (var(--dx) / 2)), calc(var(--y) + (var(--dy) / 2))) scale(calc(var(--s) * 1.03)); }
  100% { transform: translate(calc(var(--x) + var(--dx)), calc(var(--y) + var(--dy))) scale(var(--s)); }
}

/* pulse size + opacity — peaks hit var(--max) (now 1 by default) */
@keyframes cash-pulse{
  0%   { transform: scale(var(--pMin, .9));  opacity: calc(var(--oMin, .45)); filter: brightness(1); }
  50%  { transform: scale(var(--pMax, 1.18)); opacity: var(--max, 1);        filter: brightness(1.12) saturate(1.05); }
  100% { transform: scale(var(--pMin, .9));  opacity: calc(var(--oMin, .45)); filter: brightness(1); }
}

/* subtle neon jitter on top of pulse, but never below a readable floor */
@keyframes cash-flicker-soft{
  0%   { opacity: calc(max(var(--oMin, .45), var(--max,1) * .55)); }
  28%  { opacity: calc(var(--max,1) * .95); }
  52%  { opacity: var(--max,1); }          /* second peak */
  77%  { opacity: calc(var(--max,1) * .88); }
  100% { opacity: calc(max(var(--oMin, .45), var(--max,1) * .70)); }
}

/* reduced motion */
@media (prefers-reduced-motion: reduce){
  .cash-glyph{ animation:none }
  .cash-inner{ animation:none; opacity:.4; transform:none; filter:none }
}
